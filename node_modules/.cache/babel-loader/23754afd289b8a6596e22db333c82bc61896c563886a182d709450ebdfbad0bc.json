{"ast":null,"code":"import axios from'axios';import{LOGIN_SUCCESS,FORM_RESET,REGISTER_SUCCESS,LOGIN_FAILURE,REGISTER_FAILURE,LOGOUT_SUCCESS,FORGOT_PASSWORD_SUCCESS,FORGOT_PASSWORD_FAILURE,ACTIVATE_ACCOUNT_SUCCESS,ACTIVATE_ACCOUNT_FAILURE,RESET_PASSWORD_CODE_SUCCESS,RESET_PASSWORD_CODE_FAILURE,RESET_PASSWORD_SUCCESS,RESET_PASSWORD_FAILURE}from\"../utils/constants/actions-types\";import{API_BASE_URL}from\"../utils/constants/url\";export const login=(data,history)=>async dispatch=>{try{const response=await axios.post(API_BASE_URL+\"/login\",data);localStorage.setItem(\"email\",response.data.email);localStorage.setItem(\"token\",response.data.token);localStorage.setItem(\"usserRole\",response.data.userRole);localStorage.setItem(\"isLoggedIn\",true);dispatch({type:LOGIN_SUCCESS,payload:response.data});history.push(\"/account\");window.location.reload();}catch(error){dispatch({type:LOGIN_FAILURE,payload:error.response.data});}};export const registration=data=>async dispatch=>{try{const response=await axios.post(API_BASE_URL+\"/registration\",data);dispatch({type:REGISTER_SUCCESS,payload:response.data});}catch(error){dispatch({type:REGISTER_FAILURE,payload:error.response.data});}};export const logout=()=>async dispatch=>{localStorage.clear();dispatch({type:LOGOUT_SUCCESS});};export const activateAccount=code=>async dispatch=>{try{const response=await axios.get(API_BASE_URL+\"/activate/\"+code);dispatch({type:ACTIVATE_ACCOUNT_SUCCESS,payload:response.data});}catch(error){dispatch({type:ACTIVATE_ACCOUNT_FAILURE,payload:error.response.data});}};export const forgotPassword=data=>async dispatch=>{try{const response=await axios.post(API_BASE_URL+\"/forgot\",data);dispatch({type:FORGOT_PASSWORD_SUCCESS,payload:response.data});}catch(error){dispatch({type:FORGOT_PASSWORD_FAILURE,payload:error.response.data});}};export const fetchResetPasswordCode=code=>async dispatch=>{try{const response=await axios.get(API_BASE_URL+\"/reset/\"+code);dispatch({type:RESET_PASSWORD_CODE_SUCCESS,payload:response.data});}catch(error){dispatch({type:RESET_PASSWORD_CODE_FAILURE,payload:error.response.data});}};export const resetPassword=(data,history)=>async dispatch=>{try{const response=await axios.post(API_BASE_URL+\"/reset\",data);history.push(\"/login\");dispatch({type:RESET_PASSWORD_SUCCESS,payload:response.data});}catch(error){dispatch({type:RESET_PASSWORD_FAILURE,payload:error.response.data});}};export const formReset=()=>async dispatch=>{dispatch({type:FORM_RESET});};","map":{"version":3,"names":["axios","LOGIN_SUCCESS","FORM_RESET","REGISTER_SUCCESS","LOGIN_FAILURE","REGISTER_FAILURE","LOGOUT_SUCCESS","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAILURE","ACTIVATE_ACCOUNT_SUCCESS","ACTIVATE_ACCOUNT_FAILURE","RESET_PASSWORD_CODE_SUCCESS","RESET_PASSWORD_CODE_FAILURE","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAILURE","API_BASE_URL","login","data","history","dispatch","response","post","localStorage","setItem","email","token","userRole","type","payload","push","window","location","reload","error","registration","logout","clear","activateAccount","code","get","forgotPassword","fetchResetPasswordCode","resetPassword","formReset"],"sources":["C:/Users/EMRE CAN/frontend/src/actions/auth-actions.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nimport {\r\n    LOGIN_SUCCESS,\r\n    FORM_RESET,\r\n    REGISTER_SUCCESS,\r\n    LOGIN_FAILURE,\r\n    REGISTER_FAILURE,\r\n    LOGOUT_SUCCESS,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_FAILURE,\r\n    ACTIVATE_ACCOUNT_SUCCESS,\r\n    ACTIVATE_ACCOUNT_FAILURE,\r\n    RESET_PASSWORD_CODE_SUCCESS,\r\n    RESET_PASSWORD_CODE_FAILURE,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_FAILURE\r\n} from \"../utils/constants/actions-types\";\r\n\r\nimport{API_BASE_URL} from \"../utils/constants/url\";\r\n\r\nexport const login = (data,history) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(API_BASE_URL +\"/login\",data);\r\n\r\n        localStorage.setItem(\"email\",response.data.email);\r\n        localStorage.setItem(\"token\",response.data.token);\r\n        localStorage.setItem(\"usserRole\",response.data.userRole);\r\n        localStorage.setItem(\"isLoggedIn\",true);\r\n\r\n        dispatch({\r\n            type:LOGIN_SUCCESS,\r\n            payload:response.data\r\n        })\r\n        history.push(\"/account\");\r\n        window.location.reload();\r\n    }catch(error) {\r\n        dispatch({\r\n            type:LOGIN_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const registration = (data) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(API_BASE_URL+\"/registration\",data);\r\n\r\n        dispatch({\r\n            type:REGISTER_SUCCESS,\r\n            payload:response.data\r\n        })\r\n    }catch(error) {\r\n        dispatch({\r\n            type:REGISTER_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const  logout = () => async (dispatch) => {\r\n    localStorage.clear();\r\n\r\n    dispatch({\r\n        type:LOGOUT_SUCCESS\r\n    })\r\n};\r\n\r\nexport const activateAccount = (code) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.get(API_BASE_URL + \"/activate/\"+code);\r\n\r\n        dispatch({\r\n            type:ACTIVATE_ACCOUNT_SUCCESS,\r\n            payload:response.data\r\n        })\r\n    }catch(error) {\r\n        dispatch({\r\n            type:ACTIVATE_ACCOUNT_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const forgotPassword = (data) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(API_BASE_URL + \"/forgot\",data);\r\n\r\n        dispatch({\r\n            type:FORGOT_PASSWORD_SUCCESS,\r\n            payload:response.data\r\n        })\r\n    }catch(error) {\r\n        dispatch({\r\n            type:FORGOT_PASSWORD_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const fetchResetPasswordCode = (code) => async (dispatch) => {\r\n    try {\r\n        const response = await  axios.get(API_BASE_URL + \"/reset/\" +code);\r\n\r\n        dispatch({\r\n            type:RESET_PASSWORD_CODE_SUCCESS,\r\n            payload:response.data\r\n        })\r\n    }catch(error) {\r\n        dispatch({\r\n            type:RESET_PASSWORD_CODE_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const resetPassword = (data,history) => async (dispatch) => {\r\n    try {\r\n        const response = await axios.post(API_BASE_URL +\"/reset\",data);\r\n\r\n        history.push(\"/login\");\r\n\r\n        dispatch({\r\n            type:RESET_PASSWORD_SUCCESS,\r\n            payload:response.data\r\n        })\r\n    }catch(error) {\r\n        dispatch({\r\n            type:RESET_PASSWORD_FAILURE,\r\n            payload:error.response.data\r\n        })\r\n    }\r\n};\r\n\r\nexport const formReset = () => async (dispatch) =>{\r\n    dispatch({\r\n        type:FORM_RESET,\r\n    })\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}