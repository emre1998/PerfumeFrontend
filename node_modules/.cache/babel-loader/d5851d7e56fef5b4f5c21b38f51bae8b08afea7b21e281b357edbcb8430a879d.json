{"ast":null,"code":"import{useState,useEffect}from'react';const usePagination=initialState=>{const{itemsPerPage,data,startFrom}=initialState;const[searching,setSearching]=useState(false);const[filteredData,setFilteredData]=useState(data);const perPage=itemsPerPage?itemsPerPage:12;const pages=Math.ceil(filteredData.length/perPage);const pagination=[];const[currentPage,setCurrentPage]=useState(startFrom<=pages?startFrom:1);const[slicedData,setSlicedData]=useState([...filteredData].slice((currentPage-1)*perPage,currentPage*perPage));useEffect(()=>{setSlicedData([...filteredData].slice((currentPage-1)*perPage,currentPage*perPage));if(searching){setCurrentPage(1);setSearching(false);}},[filteredData,currentPage,perPage,searching]);let ellipsisLeft=false;let ellipsisRight=false;for(let i=1;i<=pages;i++){if(i===currentPage){pagination.push({id:i,current:true,ellipsis:false});}else{if(i<2||i>pages-1||i===currentPage-1||i===currentPage+1){pagination.push({id:i,current:false,ellipsis:false});}else if(i>1&&i<currentPage&&!ellipsisLeft){pagination.push({id:i,current:false,ellipsis:true});ellipsisLeft=true;}else if(i<pages&&i>currentPage&&!ellipsisRight){pagination.push({id:i,current:false,ellipsis:true});ellipsisRight=true;}}}const changePage=(page,event)=>{event.preventDefault();if(page!==currentPage){setCurrentPage(page);setSlicedData([...filteredData].slice((page-1)*perPage,page*perPage));}};const goToPrevPage=event=>{event.preventDefault();setCurrentPage(prevVal=>prevVal-1===0?prevVal:prevVal-1);if(currentPage!==1){setSlicedData([...filteredData].slice((currentPage-2)*perPage,(currentPage-1)*perPage));}};const goToNextPage=event=>{event.preventDefault();setCurrentPage(prevVal=>prevVal===pages?prevVal:prevVal+1);if(currentPage!==pages){setSlicedData([...filteredData].slice(currentPage*perPage,(currentPage+1)*perPage));}};return{slicedData,pagination,prevPage:goToPrevPage,nextPage:goToNextPage,changePage,setFilteredData,setSearching};};export default usePagination;","map":{"version":3,"names":["useState","useEffect","usePagination","initialState","itemsPerPage","data","startFrom","searching","setSearching","filteredData","setFilteredData","perPage","pages","Math","ceil","length","pagination","currentPage","setCurrentPage","slicedData","setSlicedData","slice","ellipsisLeft","ellipsisRight","i","push","id","current","ellipsis","changePage","page","event","preventDefault","goToPrevPage","prevVal","goToNextPage","prevPage","nextPage"],"sources":["C:/Users/EMRE CAN/frontend/src/components/Pagination/usePagination.js"],"sourcesContent":["import {useState, useEffect} from 'react';\r\n\r\nconst usePagination = (initialState) => {\r\n    const {itemsPerPage, data, startFrom} = initialState;\r\n    const [searching, setSearching] = useState(false);\r\n    const [filteredData, setFilteredData] = useState(data);\r\n    const perPage = itemsPerPage ? itemsPerPage : 12;\r\n    const pages = Math.ceil(filteredData.length / perPage);\r\n    const pagination = [];\r\n    const [currentPage, setCurrentPage] = useState(startFrom <= pages ? startFrom : 1);\r\n    const [slicedData, setSlicedData] = useState([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\r\n\r\n    useEffect(() => {\r\n        setSlicedData([...filteredData].slice((currentPage - 1) * perPage, currentPage * perPage));\r\n\r\n        if (searching) {\r\n            setCurrentPage(1);\r\n            setSearching(false);\r\n        }\r\n    }, [filteredData, currentPage,perPage,searching]);\r\n\r\n    let ellipsisLeft = false;\r\n    let ellipsisRight = false;\r\n\r\n    for (let i = 1; i <= pages; i++) {\r\n        if (i === currentPage) {\r\n            pagination.push(\r\n                {id: i, current: true, ellipsis: false}\r\n            );\r\n        } else {\r\n            if (i < 2 || i > pages - 1 || i === currentPage - 1 || i === currentPage + 1) {\r\n                pagination.push(\r\n                    {id: i, current: false, ellipsis: false}\r\n                );\r\n            } else if (i > 1 && i < currentPage && !ellipsisLeft) {\r\n                pagination.push(\r\n                    {id: i, current: false, ellipsis: true}\r\n                );\r\n                ellipsisLeft = true;\r\n            } else if (i < pages && i > currentPage && !ellipsisRight) {\r\n                pagination.push(\r\n                    {id: i, current: false, ellipsis: true}\r\n                );\r\n                ellipsisRight = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    const changePage = (page, event) => {\r\n        event.preventDefault();\r\n\r\n        if (page !== currentPage) {\r\n            setCurrentPage(page);\r\n            setSlicedData([...filteredData].slice((page - 1) * perPage, page * perPage));\r\n        }\r\n    }\r\n\r\n    const goToPrevPage = (event) => {\r\n        event.preventDefault();\r\n\r\n        setCurrentPage(prevVal => prevVal - 1 === 0 ? prevVal : prevVal - 1);\r\n\r\n        if (currentPage !== 1) {\r\n            setSlicedData([...filteredData].slice((currentPage - 2) * perPage, (currentPage - 1) * perPage));\r\n        }\r\n    }\r\n\r\n    const goToNextPage = (event) => {\r\n        event.preventDefault();\r\n\r\n        setCurrentPage(prevVal => prevVal === pages ? prevVal : prevVal + 1);\r\n\r\n        if (currentPage !== pages) {\r\n            setSlicedData([...filteredData].slice(currentPage * perPage, (currentPage + 1) * perPage));\r\n        }\r\n    }\r\n\r\n    return {\r\n        slicedData,\r\n        pagination,\r\n        prevPage: goToPrevPage,\r\n        nextPage: goToNextPage,\r\n        changePage,\r\n        setFilteredData,\r\n        setSearching\r\n    }\r\n}\r\n\r\nexport default usePagination;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}