{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_CART_SUCCESS, PERFUME_ADDED_TO_CART_SUCCESS, PERFUME_REMOVED_FROM_CART_SUCCESS, LOADING_CART } from \"../utils/constants/actions-types\";\nimport { API_BASE_URL } from \"../utils/constants/url\";\nexport const fetchCart = () => async dispatch => {\n  dispatch({\n    type: LOADING_CART\n  });\n  const response = await axios({\n    method: \"GET\",\n    url: API_BASE_URL + \"/cart/\" + localStorage.getItem(\"email\"),\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": localStorage.getItem(\"token\")\n    }\n  });\n  dispatch({\n    type: FETCH_CART_SUCCESS,\n    payload: response.data\n  });\n};\nexport const addToCart = (perfume, history) => async dispatch => {\n  await axios({\n    method: \"POST\",\n    url: API_BASE_URL + \"/cart/add\",\n    data: perfume,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": localStorage.getItem(\"token\")\n    }\n  });\n  dispatch({\n    type: PERFUME_ADDED_TO_CART_SUCCESS\n  });\n  history.push(\"/cart\");\n};\nexport const removeFromCart = perfume => async dispatch => {\n  const response = await axios({\n    method: \"POST\",\n    url: API_BASE_URL + \"/cart/remove\",\n    data: perfume,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": localStorage.getItem(\"token\")\n    }\n  });\n  dispatch({\n    type: PERFUME_REMOVED_FROM_CART_SUCCESS,\n    payload: response.data\n  });\n};","map":{"version":3,"names":["axios","FETCH_CART_SUCCESS","PERFUME_ADDED_TO_CART_SUCCESS","PERFUME_REMOVED_FROM_CART_SUCCESS","LOADING_CART","API_BASE_URL","fetchCart","dispatch","type","response","method","url","localStorage","getItem","headers","payload","data","addToCart","perfume","history","push","removeFromCart"],"sources":["C:/Users/EMRE CAN/frontend/src/actions/cart-actions.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nimport {\r\n    FETCH_CART_SUCCESS,\r\n    PERFUME_ADDED_TO_CART_SUCCESS,\r\n    PERFUME_REMOVED_FROM_CART_SUCCESS,\r\n    LOADING_CART\r\n} from \"../utils/constants/actions-types\";\r\nimport {API_BASE_URL} from \"../utils/constants/url\";\r\n\r\nexport const fetchCart = () => async (dispatch) => {\r\n    dispatch({\r\n        type: LOADING_CART\r\n    })\r\n\r\n    const response = await axios({\r\n        method: \"GET\",\r\n        url: API_BASE_URL + \"/cart/\" + localStorage.getItem(\"email\"),\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem(\"token\")\r\n        }\r\n    });\r\n\r\n    dispatch({\r\n        type: FETCH_CART_SUCCESS,\r\n        payload: response.data\r\n    })\r\n};\r\n\r\nexport const addToCart = (perfume, history) => async (dispatch) => {\r\n    await axios({\r\n        method: \"POST\",\r\n        url: API_BASE_URL + \"/cart/add\",\r\n        data: perfume,\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem(\"token\")\r\n        }\r\n    })\r\n\r\n    dispatch({\r\n        type: PERFUME_ADDED_TO_CART_SUCCESS,\r\n    })\r\n\r\n    history.push(\"/cart\")\r\n};\r\n\r\nexport const removeFromCart = (perfume) => async (dispatch) => {\r\n    const response = await axios({\r\n        method: \"POST\",\r\n        url: API_BASE_URL + \"/cart/remove\",\r\n        data: perfume,\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem(\"token\")\r\n        }\r\n    });\r\n\r\n    dispatch({\r\n        type: PERFUME_REMOVED_FROM_CART_SUCCESS,\r\n        payload: response.data\r\n    })\r\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SACIC,kBAAkB,EAClBC,6BAA6B,EAC7BC,iCAAiC,EACjCC,YAAY,QACT,kCAAkC;AACzC,SAAQC,YAAY,QAAO,wBAAwB;AAEnD,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM,MAAOC,QAAQ,IAAK;EAC/CA,QAAQ,CAAC;IACLC,IAAI,EAAEJ;EACV,CAAC,CAAC;EAEF,MAAMK,QAAQ,GAAG,MAAMT,KAAK,CAAC;IACzBU,MAAM,EAAE,KAAK;IACbC,GAAG,EAAEN,YAAY,GAAG,QAAQ,GAAGO,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC5DC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO;IACjD;EACJ,CAAC,CAAC;EAEFN,QAAQ,CAAC;IACLC,IAAI,EAAEP,kBAAkB;IACxBc,OAAO,EAAEN,QAAQ,CAACO;EACtB,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,SAAS,GAAGA,CAACC,OAAO,EAAEC,OAAO,KAAK,MAAOZ,QAAQ,IAAK;EAC/D,MAAMP,KAAK,CAAC;IACRU,MAAM,EAAE,MAAM;IACdC,GAAG,EAAEN,YAAY,GAAG,WAAW;IAC/BW,IAAI,EAAEE,OAAO;IACbJ,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO;IACjD;EACJ,CAAC,CAAC;EAEFN,QAAQ,CAAC;IACLC,IAAI,EAAEN;EACV,CAAC,CAAC;EAEFiB,OAAO,CAACC,IAAI,CAAC,OAAO,CAAC;AACzB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAIH,OAAO,IAAK,MAAOX,QAAQ,IAAK;EAC3D,MAAME,QAAQ,GAAG,MAAMT,KAAK,CAAC;IACzBU,MAAM,EAAE,MAAM;IACdC,GAAG,EAAEN,YAAY,GAAG,cAAc;IAClCW,IAAI,EAAEE,OAAO;IACbJ,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAEF,YAAY,CAACC,OAAO,CAAC,OAAO;IACjD;EACJ,CAAC,CAAC;EAEFN,QAAQ,CAAC;IACLC,IAAI,EAAEL,iCAAiC;IACvCY,OAAO,EAAEN,QAAQ,CAACO;EACtB,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}