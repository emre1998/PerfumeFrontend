{"ast":null,"code":"import React,{Component}from'react';import{connect}from\"react-redux\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faLock,faSync,faUndo}from\"@fortawesome/free-solid-svg-icons\";import{resetPassword,fetchResetPasswordCode,formReset}from\"../../actions/auth-actions\";import{checkPasswords,validatePassword}from\"../../utils/input-validators\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";class ResetPassword extends Component{constructor(){super(...arguments);this.state={password:\"\",password2:\"\",validatePasswordError:\"\",validateRepeatPasswordError:\"\"};this.onClickReset=event=>{event.preventDefault();const{password,password2}=this.state;const validateErrors={};validateErrors.validatePasswordError=validatePassword(password);validateErrors.validateRepeatPasswordError=checkPasswords(password,password2);if(validateErrors.validatePasswordError||validateErrors.validateRepeatPasswordError){this.setState({...validateErrors});}else{const data={email:this.props.user.email,password,password2};this.props.resetPassword(data,this.props.history);}};this.handleInputChange=event=>{const{name,value}=event.target;this.setState({[name]:value});};}componentDidMount(){this.props.formReset();if(this.props.match.params.code){this.props.fetchResetPasswordCode(this.props.match.params.code);}}render(){const{password,password2,validatePasswordError,validateRepeatPasswordError}=this.state;const{passwordError,password2Error}=this.props.errors;return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-2\",icon:faSync}),\" RESET PASSWORD\"]}),/*#__PURE__*/_jsx(\"hr\",{align:\"left\",width:\"550\"}),this.props.error?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger col-6\",role:\"alert\",children:this.props.error}):null,/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onClickReset,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Password: \"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{position:\"relative\",top:\"8px\"},icon:faLock}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,className:passwordError||validatePasswordError?\"form-control is-invalid\":\"form-control\",onChange:this.handleInputChange}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:passwordError||validatePasswordError})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-2 col-form-label\",children:\"Confirm password: \"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{style:{position:\"relative\",top:\"8px\"},icon:faLock}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",value:password2,className:password2Error||validateRepeatPasswordError?\"form-control is-invalid\":\"form-control\",onChange:this.handleInputChange}),/*#__PURE__*/_jsx(\"div\",{className:\"invalid-feedback\",children:password2Error||validateRepeatPasswordError})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group row\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-dark mx-3\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"mr-3\",icon:faUndo}),\"Reset\"]})})]})]});}}const mapStateToProps=state=>({user:state.auth.user,errors:state.auth.errors,error:state.auth.error});export default connect(mapStateToProps,{resetPassword,fetchResetPasswordCode,formReset})(ResetPassword);","map":{"version":3,"names":["React","Component","connect","FontAwesomeIcon","faLock","faSync","faUndo","resetPassword","fetchResetPasswordCode","formReset","checkPasswords","validatePassword","jsx","_jsx","jsxs","_jsxs","ResetPassword","constructor","arguments","state","password","password2","validatePasswordError","validateRepeatPasswordError","onClickReset","event","preventDefault","validateErrors","setState","data","email","props","user","history","handleInputChange","name","value","target","componentDidMount","match","params","code","render","passwordError","password2Error","errors","className","children","icon","align","width","error","role","onSubmit","style","position","top","type","onChange","mapStateToProps","auth"],"sources":["C:/Users/EMRE CAN/frontend/src/pages/ResetPassword/ResetPassword.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\r\nimport {faLock, faSync, faUndo} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport {resetPassword, fetchResetPasswordCode, formReset} from \"../../actions/auth-actions\";\r\nimport {checkPasswords, validatePassword} from \"../../utils/input-validators\";\r\n\r\nclass ResetPassword extends Component {\r\n    state = {\r\n        password: \"\",\r\n        password2: \"\",\r\n        validatePasswordError: \"\",\r\n        validateRepeatPasswordError: \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.formReset();\r\n\r\n        if (this.props.match.params.code) {\r\n            this.props.fetchResetPasswordCode(this.props.match.params.code);\r\n        }\r\n    }\r\n\r\n    onClickReset = (event) => {\r\n        event.preventDefault();\r\n\r\n        const {password, password2} = this.state;\r\n        const validateErrors = {};\r\n        validateErrors.validatePasswordError = validatePassword(password);\r\n        validateErrors.validateRepeatPasswordError = checkPasswords(password, password2);\r\n\r\n        if (validateErrors.validatePasswordError || validateErrors.validateRepeatPasswordError) {\r\n            this.setState({\r\n                ...validateErrors\r\n            });\r\n        } else {\r\n            const data = {\r\n                email: this.props.user.email,\r\n                password,\r\n                password2\r\n            };\r\n\r\n            this.props.resetPassword(data, this.props.history);\r\n        }\r\n    };\r\n\r\n    handleInputChange = (event) => {\r\n        const {name, value} = event.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const {password, password2, validatePasswordError, validateRepeatPasswordError} = this.state;\r\n        const {passwordError, password2Error} = this.props.errors;\r\n\r\n        return (\r\n            <div className=\"container mt-5\">\r\n                <h4><FontAwesomeIcon className=\"mr-2\" icon={faSync}/> RESET PASSWORD</h4>\r\n                <hr align=\"left\" width=\"550\"/>\r\n                {this.props.error ?\r\n                    <div className=\"alert alert-danger col-6\" role=\"alert\">{this.props.error}</div> : null}\r\n                <form onSubmit={this.onClickReset}>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-form-label\">Password: </label>\r\n                        <FontAwesomeIcon style={{position: \"relative\", top: \"8px\"}} icon={faLock}/>\r\n                        <div className=\"col-sm-4\">\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password\"\r\n                                value={password}\r\n                                className={passwordError || validatePasswordError ? \"form-control is-invalid\" : \"form-control\"}\r\n                                onChange={this.handleInputChange}/>\r\n                            <div className=\"invalid-feedback\">{passwordError || validatePasswordError}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label className=\"col-sm-2 col-form-label\">Confirm password: </label>\r\n                        <FontAwesomeIcon style={{position: \"relative\", top: \"8px\"}} icon={faLock}/>\r\n                        <div className=\"col-sm-4\">\r\n                            <input\r\n                                type=\"password\"\r\n                                name=\"password2\"\r\n                                value={password2}\r\n                                className={password2Error || validateRepeatPasswordError ? \"form-control is-invalid\" : \"form-control\"}\r\n                                onChange={this.handleInputChange}/>\r\n                            <div className=\"invalid-feedback\">{password2Error || validateRepeatPasswordError}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <button type=\"submit\" className=\"btn btn-dark mx-3\">\r\n                            <FontAwesomeIcon className=\"mr-3\" icon={faUndo}/>Reset\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nResetPassword.propTypes = {\r\n    fetchResetPasswordCode: PropTypes.func.isRequired,\r\n    formReset: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired,\r\n    error: PropTypes.string.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.auth.user,\r\n    errors: state.auth.errors,\r\n    error: state.auth.error\r\n});\r\n\r\nexport default connect(mapStateToProps, {resetPassword, fetchResetPasswordCode, formReset})(ResetPassword);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}